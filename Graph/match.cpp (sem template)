#include <bits/stdc++.h>
using namespace std;
const int N = 100005;
int n , m;
int match[N] , vis[N];
vector<int> adj[N];


bool dfs(int x){
    for(auto w : adj[x]){
        if(vis[w]) continue;
        vis[w] = true;
        if(match[w] == 0 || dfs(match[w])){
            match[w] = x;
            match[x] = w;
            return true;
        }
    }
    return false;
}


int32_t main(){
    scanf("%d%d" , &n , &m);
    for(int i = 0 ; i < m ; i ++){
        int a , b;
        scanf("%d%d" , &a ,&b);
        adj[a].push_back(b + n);
        adj[b].push_back(a + n);
    }
    n += n;
    bool aumentante;
    int ans = 0;
    do{
        aumentante = false;
        for(int i = 1 ; i <= n; i ++){
            vis[i] = false;
        }
        for(int i = 1 ; i <= n;i ++){
            if(match[i] == 0 && dfs(i)){
                aumentante = true;
                ans++;
            }
        }
    } while(aumentante);
    if(ans == n/2){
        n/=2;
        for(int i = 1 ; i <= n ; i ++){
            if(match[i]){
                printf("%d\n" , (match[i] > n ? match[i] - n : match[i]));
            }
            else if(match[i+n]){
                printf("%d\n" , (match[i+n] > n ? match[i+n] - n  : match[i + n]));
            }
        }
    }
    else{
        puts("Impossible");
    }
}
