\documentclass{article}
\usepackage[utf8]{inputenc}

\title{Lib}
\author{naimsantos2002 }
\date{October 2022}

\begin{document}

\maketitle

\chapter{Combinatorial}
 
\section{Permutations}
	\subsection{Factorial}
		\import{factorial.tex}
		\kactlimport{IntPerm.h}

	\subsection{Cycles}
		Let $g_S(n)$ be the number of $n$-permutations whose cycle lengths all belong to the set $S$. Then
		$$\sum_{n=0} ^\infty g_S(n) \frac{x^n}{n!} = \exp\left(\sum_{n\in S} \frac{x^n} {n} \right)$$

	\subsection{Derangements}
		Permutations of a set such that none of the elements appear in their original position.
		\[ \mkern-2mu D(n) = (n-1)(D(n-1)+D(n-2)) = n D(n-1)+(-1)^n = \left\lfloor\frac{n!}{e}\right\rceil \]

	\subsection{Burnside's lemma}
		Given a group $G$ of symmetries and a set $X$, the number of elements of $X$ \emph{up to symmetry} equals
		 \[ {\frac {1}{|G|}}\sum _{{g\in G}}|X^{g}|, \]
		 where $X^{g}$ are the elements fixed by $g$ ($g.x = x$).

		 If $f(n)$ counts ``configurations'' (of some sort) of length $n$, we can ignore rotational symmetry using $G = \mathbb Z_n$ to get
		 \[ g(n) = \frac 1 n \sum_{k=0}^{n-1}{f(\text{gcd}(n, k))} = \frac 1 n \sum_{k|n}{f(k)\phi(n/k)}. \]

\section{Partitions and subsets}
	\subsection{Partition function}
		Number of ways of writing $n$ as a sum of positive integers, disregarding the order of the summands.
		\[ p(0) = 1,\ p(n) = \sum_{k \in \mathbb Z \setminus \{0\}}{(-1)^{k+1} p(n - k(3k-1) / 2)} \]
		\[ p(n) \sim 0.145 / n \cdot \exp(2.56 \sqrt{n}) \]

		\begin{center}
		\begin{tabular}{c|c@{\ }c@{\ }c@{\ }c@{\ }c@{\ }c@{\ }c@{\ }c@{\ }c@{\ }c@{\ }c@{\ }c@{\ }c}
			$n$    & 0 & 1 & 2 & 3 & 4 & 5 & 6  & 7  & 8  & 9  & 20  & 50  & 100 \\ \hline
			$p(n)$ & 1 & 1 & 2 & 3 & 5 & 7 & 11 & 15 & 22 & 30 & 627 & $\mathtt{\sim}$2e5 & $\mathtt{\sim}$2e8 \\
		\end{tabular}
		\end{center}

	\subsection{Lucas' Theorem}
		Let $n,m$ be non-negative integers and $p$ a prime. Write $n=n_kp^k+...+n_1p+n_0$ and $m=m_kp^k+...+m_1p+m_0$. Then $\binom{n}{m} \equiv \prod_{i=0}^k\binom{n_i}{m_i} \pmod{p}$.

	\subsection{Binomials}
		\kactlimport{multinomial.h}

\section{General purpose numbers}
	\subsection{Bernoulli numbers}
		EGF of Bernoulli numbers is $B(t)=\frac{t}{e^t-1}$ (FFT-able).
		$B[0,\ldots] = [1, -\frac{1}{2}, \frac{1}{6}, 0, -\frac{1}{30}, 0, \frac{1}{42}, \ldots]$

		Sums of powers:
		\small
		\[ \sum_{i=1}^n n^m = \frac{1}{m+1} \sum_{k=0}^m \binom{m+1}{k} B_k \cdot (n+1)^{m+1-k} \]
		\normalsize

		Euler-Maclaurin formula for infinite sums:
		\small
		\[ \sum_{i=m}^{\infty} f(i) = \int_m^\infty f(x) dx - \sum_{k=1}^\infty \frac{B_k}{k!}f^{(k-1)}(m) \]
		\[ \approx \int_{m}^\infty f(x)dx + \frac{f(m)}{2} - \frac{f'(m)}{12} + \frac{f'''(m)}{720} + O(f^{(5)}(m)) \]
		\normalsize

	\subsection{Stirling numbers of the first kind}
		Number of permutations on $n$ items with $k$ cycles.
		\begin{align*}
			&c(n,k) = c(n-1,k-1) + (n-1) c(n-1,k),\ c(0,0) = 1 \\
			&\textstyle \sum_{k=0}^n c(n,k)x^k = x(x+1) \dots (x+n-1)
		\end{align*}
		$c(8,k) = 8, 0, 5040, 13068, 13132, 6769, 1960, 322, 28, 1$ \\
		$c(n,2) = 0, 0, 1, 3, 11, 50, 274, 1764, 13068, 109584, \dots$

	\subsection{Eulerian numbers}
		Number of permutations $\pi \in S_n$ in which exactly $k$ elements are greater than the previous element. $k$ $j$:s s.t. $\pi(j)>\pi(j+1)$, $k+1$ $j$:s s.t. $\pi(j)\geq j$, $k$ $j$:s s.t. $\pi(j)>j$.
		$$E(n,k) = (n-k)E(n-1,k-1) + (k+1)E(n-1,k)$$
		$$E(n,0) = E(n,n-1) = 1$$
		$$E(n,k) = \sum_{j=0}^k(-1)^j\binom{n+1}{j}(k+1-j)^n$$

	\subsection{Stirling numbers of the second kind}
		Partitions of $n$ distinct elements into exactly $k$ groups.
		$$S(n,k) = S(n-1,k-1) + k S(n-1,k)$$
		$$S(n,1) = S(n,n) = 1$$
		$$S(n,k) = \frac{1}{k!}\sum_{j=0}^k (-1)^{k-j}\binom{k}{j}j^n$$

	\subsection{Bell numbers}
		Total number of partitions of $n$ distinct elements. $B(n) =$
		$1, 1, 2, 5, 15, 52, 203, 877, 4140, 21147, \dots$. For $p$ prime,
		\[ B(p^m+n)\equiv mB(n)+B(n+1) \pmod{p} \]

	\subsection{Labeled unrooted trees}
		\# on $n$ vertices: $n^{n-2}$ \\
		\# on $k$ existing trees of size $n_i$: $n_1n_2\cdots n_k n^{k-2}$ \\
		\# with degrees $d_i$: $(n-2)! / ((d_1-1)! \cdots (d_n-1)!)$

	\subsection{Catalan numbers}
		\[ C_n=\frac{1}{n+1}\binom{2n}{n}= \binom{2n}{n}-\binom{2n}{n+1} = \frac{(2n)!}{(n+1)!n!} \]
		\[ C_0=1,\ C_{n+1} = \frac{2(2n+1)}{n+2}C_n,\ C_{n+1}=\sum C_iC_{n-i} \]
		${C_n = 1, 1, 2, 5, 14, 42, 132, 429, 1430, 4862, 16796, 58786, \dots}$
		\begin{itemize}[noitemsep]
			\item sub-diagonal monotone paths in an $n\times n$ grid.
			\item strings with $n$ pairs of parenthesis, correctly nested.
			\item binary trees with with $n+1$ leaves (0 or 2 children).
			\item ordered trees with $n+1$ vertices.
			\item ways a convex polygon with $n+2$ sides can be cut into triangles by connecting vertices with straight lines.
			\item permutations of $[n]$ with no 3-term increasing subseq.
		\end{itemize}


\chapter{Game Theory}

\subsection{Nim-K}
Nim podendo tirar de K heaps, aka Moore’s Nimk
Se soma xi mod (k+1) == 0 pra todo bit i, é uma P position.

\subsection{Monotonic Nim}
Se n é impar pega o xor de (a(2*i+1) - a(2*i)), se não insere um 0 no inicio e repete.

\subsection{Misere Nim}
É uma P position se: existe ai>1 e xor == 0 ou ai==1 e xor == 1.

\chapter{Geometry}

\subsection{Formula de Euler}
V - E + F = 2
\subsection{Pick Theorem} Para achar pontos em coords inteiras num poligono Area = i + b/2 - 1 onde i eh o o numero de pontos dentro do poligono e b de pontos no perimetro do poligono
\subsection{Two ears theorem} Todo poligono simples com mais de 3 vertices tem pelo menos 2 orelhas, vertices que podem ser removidos sem criar um crossing, remover orelhas repetidamente triangula o poligono
\subsection{Incentro triangulo}  (a(Xa, Ya) + b(Xb, Yb) + c(Xc, Yc))/(a+b+c) onde a = lado oposto ao vertice a, incentro eh onde cruzam as bissetrizes, eh o centro da circunferencia inscrita e eh equidistante aos lados

\subsection{Delaunay Triangulation} Triangulacao onde nenhum ponto esta dentro de nenhum circulo circunscrito nos triangulos
Eh uma triangulacao que maximiza o menor angulo e a MST euclidiana de um conjunto de pontos eh um subconjunto da triangulacao

\subsection{Tangência}
Dado um Circulo C na origem com raio R e um ponto P = (xp, yp) qualquer:
  - Se P pertence a C, reta tangente que passa por P é da forma x*(xp) + y*(yp) = r^2
  - Caso contrário, a interseção da reta r: x*(xp) + y*(yp) = r^2 com a circunferencia C são os dois pontos de tangencia


\subsection{Brahmagupta’s formula} Area cyclic quadrilateral
s = (a+b+c+d)/2
area = sqrt((s-a)*(s-b)*(s-c)*(s-d))
d = 0 => area = sqrt((s-a)*(s-b)*(s-c)*s)

\chapter{Graphs}


\subsection{Formula de Euler} V - E + F = 2 (para grafo planar) / V - E + F = 1 + C (C sendo a qtd de componentes no grafo planar)
\subsection{Handshaking} Numero par de vertices tem grau impar
\subsection{Kirchhoff's Theorem} Monta matriz onde Mi,i = Grau[i] e Mi,j = -1 se houver aresta i-j ou 0 caso contrario, remove uma linha e uma coluna qualquer e o numero de spanning trees nesse grafo eh o det da matriz

\subsection{Grafo contem caminho hamiltoniano se}
Dirac's theorem: Se o grau de cada vertice for pelo menos n/2
\subsection{Ore's theorem} Se a soma dos graus que cada par nao-adjacente de vertices for pelo menos n

\subsection{Trees}
Tem Catalan(N) Binary trees de N vertices
Tem Catalan(N-1) Arvores enraizadas com N vertices
\subsection{Caley Formula} 
$n^{n-2}$ arvores em N vertices com label

According to one of generalizations of Cayley's formula, number of forests of x vertices, where vertices 1,2,…,y belong to different trees is $f(x,y) = y\cdot (x^{x-y-1})$

\subsection{Prufer code} Cada etapa voce remove a folha com menor label e o label do vizinho eh adicionado ao codigo ate ter 2 vertices. Prufer sequence tem tamanho n-2 e gera uma sequencia unica para cada arvore com label

\subsection{numero de arvores com sequencia de grau di} É
multinomio de (n-2 , (d1-1  , .. , dn - 1) ) 

According to one of generalizations of Cayley's formula, number of forests of x vertices, where vertices 1,2,…,y belong to different trees is $f(x,y) = y\cdot (x^(x-y-1))$


\subsection{Flow}
\begin{itemize}
    \item Max Edge-disjoint paths: Max flow com arestas com peso 1
    \item Max Node-disjoint paths: Faz a mesma coisa mas separa cada vertice em um com as arestas de chegadas e um com as arestas de saida e uma aresta de peso 1 conectando o vertice com aresta de chegada com ele mesmo com arestas de saida
    \item Konig's Theorem: minimum node cover = maximum matching se o grafo for bipartido, complemento eh o maximum independent set
    \item Min Node disjoint path cover: formar grafo bipartido de vertices duplicados, onde aresta sai do vertice tipo A e chega em tipo B, entao o path cover eh N - matching
    \item Min General path cover: Mesma coisa mas colocando arestas de A pra B sempre que houver caminho de A pra B
    \item Dilworth's Theorem: Min General Path cover = Max Antichain (set de vertices tal que nao existe caminho no grafo entre vertices desse set)
    \item Hall's marriage: um grafo tem um matching completo do lado X se para cada subconjunto W de X, |W| <= |vizinhosW| onde |W| eh quantos vertices tem em W


\end{itemize}


\chapter{Math}

\subsection{Goldbach's} todo numero par n > 2 pode ser representado com n = a + b onde a e b sao primos
\subsection{Twin prime} existem infinitos pares p, p + 2 onde ambos sao primos
\subsection{Legendre's} sempre tem um primo entre n^2 e (n+1)^2
\subsection{Lagrange's} todo numero inteiro pode ser inscrito como a soma de 4 quadrados
\subsection{Zeckendorf's} todo numero pode ser representado pela soma de dois numeros de fibonnacis diferentes e nao consecutivos
\subsection{Euclid's} toda tripla de pitagoras primitiva pode ser gerada com 
    (n^2 - m^2, 2nm, n^2+m^2) onde n, m sao coprimos e um deles eh par
\subsection{Wilson's} n eh primo quando (n-1)! mod n = n - 1
\subsection{Mcnugget} Para dois coprimos x, y o maior inteiro que nao pode ser escrito como ax + by eh (x-1)(y-1)/2

\subsection{Fermat} Se p eh primo entao $a^{p-1} mod p = 1$
Se x e m tambem forem coprimos entao $x^k mod m = x^{(k mod(m-1))} mod m$
\subsection{Euler's theorem} $x^{phi(m)} mod m = 1$ onde phi(m) eh o totiente de euler

\subsection{Chinese remainder theorem}
Para equacoes no formato x = a1 mod m1, ... , x = an mod mn onde todos os pares m1, ... , mn sao coprimos
Deixe Xk = m1*m2*..*mn/mk e Xk^-1 mod mk = inverso de Xk mod mk, entao
x = somatorio com k de 1 ate n de ak*Xk*(Xk,mk^-1 mod mk)
Para achar outra solucao so somar m1*m2*..*mn a solucao existente

\subsection{Catalan number} exemplo expressoes de parenteses bem formadas
C0 = 1, Cn = somatorio de i=0 to n-1 de Ci*C(n-i+1)

outra forma: Cn = (2n escolhe n)/(n+1)

Se ja tem alguns items voce tem $C(a + b,a) - C(a + b,b+1)$, com $a = n - openNoPrefix$ e $b = n - ClosedNoPrefix$.

O número de caminhos de (0,0) até (n,n) que estão estritamente abaixo da diagonal y=x (mas podem tocar) em um grid é Catalan(n)

\subsection{Bertrand's ballot theorem} p votos tipo A e q votos tipo B com p>q, prob de em todo ponto ter mais As do que Bs antes dele = (p-q)/(p+q)

Se puder empates entao prob = (p+1-q)/(p+1), para achar quantidade de possibilidades nos dois casos basta multiplicar por (p + q escolhe q)


\subsection{Propriedades de Coeficientes Binomiais}
Somatorio de k = 0 -> m de (-1)^k * (n escolhe k) = (-1)^m* (n -1 escolhe m)

(N escolhe K) = N/K * (n-1 escolhe k-1)

Somatorio de k = 0 to n de (n escolhe k) = 2^n

Somatorio de m = 0 to n de (m escolhe k) = (n+1 escolhe k + 1)

Somatorio de k = 0 to m de (n+k escolhe k) = (n+m+1 escolhe m)

Somatorio de k = 0 to n de (n escolhe k)^2 = (2n escolhe n)

Somatorio de k = 0 ou 1 to n de k*(n escolhe k) = n * 2^(n-1)

Somatorio de k = 0 to n de (n-k escolhe k) = Fib(n+1)

\subsection{Hockey-stick}
Somatorio de i = r -> n de (i escolhe r) = (n + 1 escolhe r + 1)

\subsection{Vandermonde}
(m+n escolhe r) = somatorio de k = 0 to r de (m escolhe k) * (n escolhe r - k)

\subsection{Burnside lemma}
colares diferentes nao contando rotacoes quando m = cores e n = comprimento
(m^n + somatorio i =1 -to n-1 de m^gcd(i, n))/n

\subsection{Distribuicao uniforme} a,a+1, ..., b Expected[X] = (a+b)/2
\subsection{Distribuicao binomial} Com n tentativas de probabilidade p, X = sucessos: 
    P(X = x) = p^x * (1-p)^(n-x) * (n escolhe x) e E[X] = p*n
    
\subsection{Distribuicao geometrica onde continuamos ate ter sucesso}
X = tentativas: 
    P(X = x) = (1-p)^(x-1) * p e E[X] = 1/p
\subsection{Linearity of expectation} Tendo duas variaveis X e Y e constantes a e b, o valor esperado de $aX + bY = a \cdot E[X] + b\cdot E[X]$
\subsection{Higher order distributions}
${E} [X^{c}]=\sum _{k=0}^{c}\left\{{c \atop k}\right\}n^{\underline {k}}p^{k}$ where $n^{\underline {k}}=n(n-1)\cdots (n-k+1)}$ is the kth falling power of n.

\subsection{funcao geradora}
$(1 + x)^{-n} = somatorio( ( (-1)^k ) * ( (n + k - 1) escolhe k) * (x ^ k) ), k = 0 até k = inf$

\subsection{phi(m)}
$e >= log2(m)$, $n^e \ mod \ m = n^{(phi(m) + (e \ mod \ phi(m))} mod m$

phi(phi(...phi(m))) -> 1 em O(logM) iterações 

\subsection{Number of times on k prefix sum's}
Seja T(k, i) = Quantas vezes o valor de V[1] aparece em "i" após fazer "k" somas de prefixo.
    T(k, i) = somatorio de j = 1 to r de ((k + j - 1) escolhe(k - 1)) 

\subsection{Multiplicative order}
Smallest positive K such that a^k == 1 mod N -> ord_n(a)

As a consequence of Lagrange's theorem, ord_n(a) always divides φ(n) ( phi(n) )

Se gcd(a,n)!=1 não existe $k>0$

\subsection{Sum of K powers} 
- Educ 7 - F

O(min(N,K))

S(n,k) = sum $i^k$

P[i] = sum($j^k$ , 0<=j<=i).

S(n,k) = t * ($(-1)^{k+1-i}) * (n-i)^-1 * finv[i] * finv[k+1-i] * p[i]

finv[i] = 1/(1*2...*i) e t = (n*(n-1)...*(n-k-1))

Dá pra fazer com interpolação também...

\subsection{Pisano}
k(m) = menor l tal que F[l] == 0 mod(m) && F[l+1]==1 mod(m) 

$k(a \cdot b) = lcm(k(a),k(b))$ se gcd(a,b)=1

$k(p^k)$ divide $p^{k-1} \cdot k(p)$

k(5)=20,k(2)=3,k(3)=8

Se $p>5$:

k(p) divide (p-1) se p == +-1 mod 5

k(p) divide 2*(p+1) se p==+-2 mod 5

\subsection{Diofantinas}
ax + by = c

divide tudo pelo gcd(a,b); se c mod gcd(a,b)!=0, não tem solução

se não:

a' x + b' y = c' tem solução dada pelo algoritmo de euclides

a resposta do problema original é:

(X_g * c/g, Y_g * c/g), com X_g e Y_g achados com euclides.

OBS: passa abs(a) e abs(b) no euclides e depois inverter o sinal
se era negativo.

Toda solução é na forma

x = x0 + k * b'

y = y0 - k * a'

\subsection{Choromatic polynomial of a cycle}

numero de modos de pintar um ciclo de tamanho n com K cores: (k-1)^n + (-1)^n * ( k-1 )

pode achar com expo tb se precisar...


\subsection{Mersenne}:
Primos de Mersenne 2^n - 1

Lista de Ns que resultam nos primeiros 41 primos de Mersenne:

2; 3; 5; 7; 13; 17; 19; 31; 61; 89; 107; 127; 521; 607; 1.279; 2.203; 2.281; 3.217; 4.253; 4.423; 9.689; 9.941; 11.213; 19.937; 21.701; 23.209; 44.497; 86.243; 110.503; 132.049; 216.091; 756.839; 859.433; 1.257.787; 1.398.269; 2.976.221; 3.021.377; 6.972.593; 13.466.917; 20.996.011; 24.036.583;


\subsection{Pythagorean triple}
If $a^2 +  b^2 = c^2$ para (a,b,c) inteiros então para todo $m>n>0$ temos que $a = m^2 - n^2$, $b=2mn$, $c = m^2 + n^2$ é uma tripla válida

\subsection{Number of lattice points in a ring}
Se queremos achar o número de soluções para $a^2 + b^2 = n$, temos que fatorar $n$ e temos que $f(n) = 4b(n)$ com $b(n)$ sendo "multiplicativo" e $b(2^e) = 1$, $b(p^e) = 1 - (e mod 2)$ para $p mod 4 = 3$ e $b(p^e) = e+1$ para $p mod 4 = 1$.

Isso vale porque 2 tem uma fatoração em número de gauss zuada (1+i)(1-i), todo primo 4k+3 não é fatorável em algo diferente dele mesmo e todo primo 4k+1 tem apenas uma fatoração em números de gauss $p=(a+bi)(a-bi)$

\subsection{Solutions of $a^2+b^2+c^2 = n^2$}
allowing zeros and distinguishing signs and order.

$a(n) = 6 * b(n)$ if $n>0$ where b(n) is multiplicative with $b(2^e) = 1$, $b(p^e) = p^e$ if $p = 1 \ (mod 4)$, $b(p^e) = p^e + 2 * (p^e - 1) / (p - 1)$ if $p = 3 \  (mod 4)$. - Michael Somos, Nov 18 2011 - http://oeis.org/A016725



\end{document}
